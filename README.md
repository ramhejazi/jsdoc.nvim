# jsdoc.nvim

Dynamic, treesitter-based JavaScript documentation generator for neovim, following [JSDoc][5] conventions.

## How it works

This plugin analyzes the tree provided by treesitter and generates [JSDoc] documentation for JavaScript code
snippet under the cursor. In order to typing documentation descriptions more efficiently, the generated documentations
are [LuaSnip][1] dynamic snippets. The default or user-defined key-bindings
for jumping through LuaSnip snippets will also work for snippets generated by this plugin.

Currently the plugin is most useful for generating docs for functions. In case you have any suggestions
feel free to open an issue.

## Installation

This plugin depends on [tree-sitter][2] and [luasnip][1]
so in addition to this plugin you also need to install these dependencies.

Installation via [packer][4]:

```lua
    use {
        "ramhejazi/jsdoc.nvim",
        config = function()
            require('jsdoc.nvim').setup {}
        end,
    }
```

Calling the `setup` function is optional.
The function creates an [user command][3] named `JSDoc`.

## Configuration

```lua
-- Defining key binding for calling the `generate` function which subsequently
-- generates jsdoc snippets
vim.keymap.set({ "n" }, "<leader>o", function()
    local jsdoc_nvim = require('jsdoc_nvim')
    -- is the current context JavaScript?
    if jsdoc_nvim.is_context_javascript() then
        jsdoc_nvim.generate();
    else
        -- optionally run another doc generator
        -- require('neogen').generate()
    end
end, { silent = true })

-- Defining key-bindings for luasnip (optional)
local ls = require('luasnip')
vim.keymap.set({ "i" }, "<C-L>", function() ls.expand() end, { silent = true })
vim.keymap.set({ "i", "s" }, "<C-J>", function() ls.jump(1) end, { silent = true })
vim.keymap.set({ "i", "s" }, "<C-K>", function() ls.jump(-1) end, { silent = true })
```

[1]: https://github.com/L3MON4D3/LuaSnip 'LuaSnip Repository'
[2]: https://github.com/nvim-treesitter/nvim-treesitter/wiki/Installation 'TreeSitter Installation'
[3]: https://neovim.io/doc/user/lua-guide.html#_user-commands 'Neovim User Commands'
[4]: https://github.com/wbthomason/packer.nvim 'Packer Neovim Package Manager'
[5]: https://jsdoc.app 'JSDoc homepage'
